#################### START ####################
mode: 'rule' # è¿è¡Œæ¨¡å¼ rule/global/direct, æš‚ä¸æ”¯æŒ script

ipv6: true # IPv6 æ˜¯å¦å…è®¸å†…æ ¸æ¥å— IPv6 æµé‡
tcp-concurrent: true # TCP å¹¶å‘ å¦‚æœåŸŸåè§£æç»“æœå¯¹åº”å¤šä¸ªIP, å¹¶å‘è¯·æ±‚æ‰€æœ‰IP, é€‰æ‹©æ¡æ‰‹æœ€å¿«çš„IPè¿›è¡Œé€šè®¯
keep-alive-interval: 15 # æ§åˆ¶ Clash å‘å‡º TCP Keep Alive åŒ…çš„é—´éš”, å•ä½ s, å‡å°‘ç§»åŠ¨è®¾å¤‡è€—ç”µé—®é¢˜çš„ä¸´æ—¶æªæ–½
unified-delay: true # ç»Ÿä¸€å»¶è¿Ÿ, ä¼šè®¡ç®— RTT, ä»¥æ¶ˆé™¤è¿æ¥æ¡æ‰‹ç­‰å¸¦æ¥çš„ä¸åŒç±»å‹èŠ‚ç‚¹çš„å»¶è¿Ÿå·®å¼‚

global-client-fingerprint: 'edge' # å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹ chrome/firefox/safari/iOS/android/edge/360/qq/random, ä¼˜å…ˆä½äº proxy å†…çš„ client-fingerprint, ç›®å‰æ”¯æŒå¼€å¯ TLS ä¼ è¾“çš„ TCP/grpc/WS/HTTP, æ”¯æŒåè®®æœ‰ VLESS/Vmess/Trojan
global-ua: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36 Edg/128.0.0.0' # å…¨å±€ UA, é»˜è®¤ clash.meta

allow-lan: true # å…è®¸å…¶ä»–è®¾å¤‡ç»è¿‡ Clash çš„ä»£ç†ç«¯å£è®¿é—®äº’è”ç½‘
bind-address: '*' # ç»‘å®šåœ°å€, ä»…å…è®¸å…¶ä»–è®¾å¤‡é€šè¿‡è¿™ä¸ªåœ°å€è®¿é—®
authentication:
# ç”¨æˆ·éªŒè¯ http(s)/socks/mixed ä»£ç†çš„ç”¨æˆ·éªŒè¯
- 'clash:clash' # ç”¨æˆ·:å¯†ç 
skip-auth-prefixes:
# è·³è¿‡éªŒè¯çš„ IP æ®µ
- '127.0.0.1/8'
- '::1/128'

profile:
  # ç¼“å­˜
  store-selected: true # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©, ä»¥ä¾›ä¸‹æ¬¡å¯åŠ¨æ—¶ä½¿ç”¨

external-ui: './ui' # å¤–éƒ¨ç”¨æˆ·ç•Œé¢çš„è·¯å¾„ '/'ä»£è¡¨æ ¹ç›®å½• './'ä»£è¡¨å½“å‰ç›®å½•,'../'ä»£è¡¨ä¸Šçº§ç›®å½•
external-ui-url: 'https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip' # è‡ªå®šä¹‰å¤–éƒ¨ç”¨æˆ·ç•Œé¢ä¸‹è½½åœ°å€
external-controller: '0.0.0.0:9090' # API ç›‘å¬åœ°å€
secret: 'clash' # API çš„è®¿é—®å¯†é’¥

# port: 0 # http/socks/mixed ç«¯å£éªŒè¯ä¸å¤–éƒ¨è®¿é—®
# socks-port: 0 # socks4/4a/5 ä»£ç†ç«¯å£
# redir-port: 0 # redirect é€æ˜ä»£ç†ç«¯å£, ä»…èƒ½ä»£ç† TCP æµé‡
# tproxy-port: 0 # tproxy é€æ˜ä»£ç†ç«¯å£, å¯ä»£ç† TCP ä¸ UDP æµé‡
mixed-port: 7890 # æ··åˆç«¯å£ åŒæ—¶æ”¯æŒ HTTP(S) å’Œ SOCKS5 åè®®

tun:
  enable: true # æ˜¯å¦å¯ç”¨
  stack: 'gvisor' # tun æ¨¡å¼å †æ ˆ system/gvisor/mixed
  device: 'Clash' # æŒ‡å®š tun ç½‘å¡åç§°, MacOS è®¾å¤‡åªèƒ½ä½¿ç”¨ utun å¼€å¤´çš„ç½‘å¡å
  auto-route: true # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±, å¯ä»¥è‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿›å…¥ tun ç½‘å¡
  auto-redirect: false # è‡ªåŠ¨é…ç½® iptables/nftables ä»¥é‡å®šå‘ TCP è¿æ¥, éœ€è¦ auto-route å¯ç”¨
  auto-detect-interface: true # è‡ªåŠ¨é€‰æ‹©æµé‡å‡ºå£æ¥å£, å¤šå‡ºå£ç½‘å¡åŒæ—¶è¿æ¥çš„è®¾å¤‡å»ºè®®æ‰‹åŠ¨æŒ‡å®šå‡ºå£ç½‘å¡
  strict-route: false # ä¸¥æ ¼è·¯ç”± æ‰€æœ‰è¿æ¥è·¯ç”±åˆ° tun æ¥é˜²æ­¢æ³„æ¼, ä½†è®¾å¤‡å°†æ— æ³•è¢«å…¶ä»–è®¾å¤‡è®¿é—®
  udp-timeout: 180 # UDP NAT è¿‡æœŸæ—¶é—´, å•ä½ s, é»˜è®¤ä¸º 300(5 åˆ†é’Ÿ)

hosts:
  # æ”¯æŒå•åŸŸåå¤š ip, æ ¼å¼ä¸ºæ•°ç»„; æ”¯æŒåŸŸåé€šé…ç¬¦, ä¸ä½¿ç”¨é€šé…ç¬¦çš„åŸŸåä¼˜å…ˆçº§é«˜äºä½¿ç”¨é€šé…ç¬¦çš„åŸŸå  Tip: ä½¿ç”¨åŸŸåé€šé…ç¬¦çš„åº”è¯¥å°½é‡ç”¨å•å¼•å·åŒ…è£¹
  'dns.alidns.com': [ '223.6.6.6', '2400:3200:baba::1' ]
  'doh.pub': [ '120.53.53.53', '2402:4e00:1::' ]
  'cloudflare-dns.com': [ '1.0.0.1', '2606:4700:4700::1001' ]
  'dns-unfiltered.adguard.com': [ '94.140.14.141', '2a10:50c0::2:ff' ]
  'trpc.o3.*': [ '127.0.0.1' ] # ç¯å¢ƒæ£€æµ‹åŒ…ï¼ˆtrpc.o3.*ï¼‰æ‹¦æˆª

dns:
  # DNS æœåŠ¡å™¨ä¹¦å†™è§„èŒƒåº”å¸¦å¼•å·, ä»¥é˜²å‡ºç°ç‰¹æ®Šå­—ç¬¦
  enable: true # æ˜¯å¦å¯ç”¨, å¦‚ä¸º false, åˆ™ä½¿ç”¨ç³»ç»Ÿ DNS è§£æ
  listen: '0.0.0.0:1053' # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬
  ipv6: true # false å°†è¿”å› AAAA çš„ç©ºç»“æœ
  ipv6-timeout: 300 # å•ä½ ms, å†…éƒ¨åŒæ ˆå¹¶å‘, å‘ä¸Šæ¸¸æŸ¥è¯¢ AAAA æ—¶, ç­‰å¾… AAAA çš„æ—¶é—´, é»˜è®¤ 100
  prefer-h3: true # å¼€å¯ DoH æ”¯æŒ HTTP/3, å°†å¹¶å‘å°è¯•
  use-hosts: false # æ˜¯å¦æŸ¥è¯¢é…ç½®ä¸­çš„ hosts, é»˜è®¤ true
  respect-rules: false # dns è¿æ¥è·Ÿéš rule, éœ€é…ç½® proxy-server-nameserver
  enhanced-mode: 'redir-host' # DNS å¤„ç†æ¨¡å¼ fake-ip/redir-host(Meta å›æ»šäº† Redir Host éƒ¨åˆ†ä»£ç , ä»ç„¶ä¿ç•™ Clash v1.70 ä»¥å‰çš„ Redir Host æ¨¡å¼çš„åŸŸåä¼ é€’è¡Œä¸º)/normal
  proxy-server-nameserver:
  # ç”¨äºèŠ‚ç‚¹åŸŸåè§£æ å¦‚å…¶ä»– DNS éœ€è¿‡ä»£ç†æŸ¥è¯¢/nameserver ä¸ºå›½å¤– DNS æ—¶åˆ™é…ç½®è¯¥é¡¹ä»¥é˜²å‡ºç°é¸¡è›‹é—®é¢˜
  - 'https://dns.alidns.com/dns-query' # Alibaba
  - 'https://doh.pub/dns-query' # Tencent
  nameserver-policy:
    # æŒ‡å®šçš„è§£ææœåŠ¡, æ²¡åŒ¹é…åˆ°ä½¿ç”¨ nameserver/fallback å¹¶å‘æŸ¥è¯¢
    'rule-set:site_geolocation-!cn':
    # 'cn' é‡Œå‚æ‚äº† 'geolocation-!cn', å¼ºåˆ¶å›½å¤– DNS è§£æ
    - 'https://cloudflare-dns.com/dns-query#Proxy' # Cloudflare
    - 'https://dns-unfiltered.adguard.com/dns-query#Proxy' # AdGuard
    'rule-set:site_private,site_cn':
    - 'https://dns.alidns.com/dns-query'
    - 'https://doh.pub/dns-query'
  nameserver:
  # é»˜è®¤åŸŸåè§£æ, å¦‚ä¸é…ç½® fallback/proxy-server-nameserver, åˆ™éƒ½ç”± nameserver è§£æ
  - 'https://cloudflare-dns.com/dns-query#Proxy'
  - 'https://dns-unfiltered.adguard.com/dns-query#Proxy'

sniffer:
  # Sniffer åŸŸåå—…å™¨ é€šè¿‡è¯»å–æ¡æ‰‹åŒ…å†…çš„åŸŸåå­—æ®µ, å°† IP è¿˜åŸæˆåŸŸå
  enable: true # æ˜¯å¦å¯ç”¨
  force-dns-mapping: true # å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: true # å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  override-destination: true # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®, é»˜è®¤  true
  sniff:
    HTTP:
      ports: [ 80, 8080-8880 ]
    TLS:
      ports: [ 443, 8443 ]
    QUIC:
      ports: [ 443, 8443 ]
  skip-domain:
  # éœ€è¦è·³è¿‡å—…æ¢çš„åŸŸå, ä¸»è¦è§£å†³éƒ¨åˆ†ç«™ç‚¹ sni å­—æ®µéåŸŸå, å¯¼è‡´å—…æ¢ç»“æœå¼‚å¸¸çš„é—®é¢˜, å¦‚ç±³å®¶è®¾å¤‡
  - '+.push.apple.com'
  - 'Mijia Cloud'
  - 'dlg.io.mi.com'
  - '+.jd.com'
  - '+.taobao.com'
  - '+.tmall.com'
  - '*.rc.sunlogin.net'

proxies:
# å‡ºç«™é…ç½® æŸ¥çœ‹æ¥å£å‘½ä»¤: netsh interface show interface  Tip: æ‰‹æœºéœ€è¦ root è·‘å†…æ ¸ ä»¥ç»‘å®šæ¥å£
- { name: 'DNS Hijacking', type: dns, udp: true } # dns å‡ºç«™ä¼šå°†è¯·æ±‚åŠ«æŒåˆ°å†…éƒ¨ dns æ¨¡å—, æ‰€æœ‰è¯·æ±‚å‡åœ¨å†…éƒ¨å¤„ç†
- { name: 'Local Auto', type: direct, udp: true }
- { name: 'ä»¥å¤ªç½‘', type: direct, udp: true, interface-name: 'ä»¥å¤ªç½‘' } # Windows ç½‘çº¿
- { name: 'WLAN', type: direct, udp: true, interface-name: 'WLAN' } # Windows WiFi
- { name: 'wlan0', type: direct, udp: true, interface-name: 'wlan0' } # WiFi/Wå£
- { name: 'wlan1', type: direct, udp: true, interface-name: 'wlan1' }
- { name: 'rmnet_data0', type: direct, udp: true, interface-name: 'rmnet_data0' } # Android ç§»åŠ¨æ•°æ®
- { name: 'rmnet_data1', type: direct, udp: true, interface-name: 'rmnet_data1' }
- { name: 'rmnet_data2', type: direct, udp: true, interface-name: 'rmnet_data2' }
- { name: 'rmnet_data3', type: direct, udp: true, interface-name: 'rmnet_data3' }

proxy-providers-anchor:
# é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹, åˆ™ä¸ä¼šå»åˆå¹¶; é”šç‚¹åå°½é‡ä¸è¦å«ç‰¹æ®Šå­—ç¬¦
- health_check: &health_check { health-check: { enable: true, expected-status: '204', url: 'https://www.google.com/generate_204', interval: 60 } } # å»¶è¿Ÿæ£€æµ‹
- header: &header { header: { User-Agent: [ 'clash-verge', 'ClashMetaForAndroid', 'flclash', 'clash.meta', 'meta', 'mihomo', 'stash', 'ClashforWindows', 'ClashForAndroid', 'clash' ] } } # UA
- update: &update { proxy: Provider, interval: 43200 } # æ›´æ–° provider ä½¿ç”¨çš„èŠ‚ç‚¹æˆ–ç­–ç•¥ç»„/æ›´æ–° provider çš„é—´éš”, å•ä½ s  Tip: è®¾ç½®çš„è¿‡äºå°å¯èƒ½è¢«æœºåœº ban
- filter_exclude_ad: &filter_exclude_ad { filter: '^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å¯¼èˆª|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|(\b(USE|USED|TG|TOTAL|EXPIRE|EMAIL|Panel|Channel|Author)\b|(\d{4}-\d{2}-\d{2}|\d+G)))).*$' } # å¼•å…¥ç­›é€‰/æ’é™¤, ä½¿ç”¨ç­›é€‰å¯èƒ½ä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ CPUå ç”¨/è½¬å‘å»¶è¿Ÿ, å°¤å…¶æ˜¯ä½¿ç”¨è¾ƒä¸ºå¤æ‚æ­£åˆ™çš„æƒ…å†µä¸‹
- override: &override { udp: true } # è¦†å†™

proxy-providers:
  # æ”¯æŒç›´æ¥ä½¿ç”¨ V2rayN ç­‰å®¢æˆ·ç«¯çš„æ™®é€šè®¢é˜…; ä¸€ä¸ªåˆæ³•çš„è¿œç¨‹ä»£ç†é›†å¿…é¡»åŒ…å« proxies å­—æ®µ, è¿œç¨‹ä»£ç†é›†ä¸ºç©ºæ—¶ä¼šä»¥ DIRECT æ›¿ä»£
  Provider_1:
    type: http # å¿…é¡», provider ç±»å‹ http/file
    url: 'http://127.0.0.1:38324/download/RioLU.443' # æ­¤è¡Œå•å¼•å·å†…å¡«å…¥ä½ çš„è®¢é˜…é“¾æ¥
    <<: [ *health_check, *header, *update, *filter_exclude_ad ]
    override:
      <<: *override
      additional-prefix: '#1 ' # ä¸ºèŠ‚ç‚¹æ·»åŠ å‰ç¼€   Tip: å‰/åç¼€å¯è¢« filter/exclude-filter è¿‡æ»¤
    path: './proxy_providers/Provider_1.yaml' # é…ç½®ä¿å­˜ä½ç½® '/'ä»£è¡¨æ ¹ç›®å½• './'ä»£è¡¨å½“å‰ç›®å½•,'../'ä»£è¡¨ä¸Šçº§ç›®å½•

  Provider_2:
    type: http
    url: 'http://127.0.0.1:38324/download/Free%20Cloud' # æ­¤è¡Œå•å¼•å·å†…å¡«å…¥ä½ çš„è®¢é˜…é“¾æ¥
    <<: [ *health_check, *header, *update, *filter_exclude_ad ]
    override:
      <<: *override
      additional-prefix: '#2 ' # ä¸ºèŠ‚ç‚¹æ·»åŠ å‰ç¼€
    path: './proxy_providers/Provider_2.yaml' # é…ç½®ä¿å­˜ä½ç½®

  Provider_3:
    type: http
    url: 'http://127.0.0.1:38324/download/Free%20Sub' # æ­¤è¡Œå•å¼•å·å†…å¡«å…¥ä½ çš„è®¢é˜…é“¾æ¥
    <<: [ *health_check, *header, *update, *filter_exclude_ad ]
    override:
      <<: *override
      additional-prefix: '#3 ' # ä¸ºèŠ‚ç‚¹æ·»åŠ å‰ç¼€
    path: './proxy_providers/Provider_3.yaml' # é…ç½®ä¿å­˜ä½ç½®

  Provider_4:
    type: http
    url: 'http://127.0.0.1:38324/download/CM%20Vless' # æ­¤è¡Œå•å¼•å·å†…å¡«å…¥ä½ çš„è®¢é˜…é“¾æ¥
    <<: [ *health_check, *header, *update, *filter_exclude_ad ]
    override:
      <<: *override
      additional-prefix: '#4 ' # ä¸ºèŠ‚ç‚¹æ·»åŠ å‰ç¼€
    path: './proxy_providers/Provider_4.yaml' # é…ç½®ä¿å­˜ä½ç½®

proxy-groups-anchor:
# é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹, åˆ™ä¸ä¼šå»åˆå¹¶; é”šç‚¹åå°½é‡ä¸è¦å«ç‰¹æ®Šå­—ç¬¦
- filter_EB: &filter_EB { filter: 'å›å›½|æ ¡å›­' } # æ’é™¤å›å›½
- filter_0x: &filter_0x { filter: '^(?=.*((?i)0å€|(\b(0x|x0)\b))).*$' } # 0 å€èŠ‚ç‚¹
- filter_0.1x: &filter_0.1x { filter: '^(?=.*((?i)0.1å€|(\b(0.1x|x0.1)\b))).*$' }
- filter_0.5x: &filter_0.5x { filter: '^(?=.*((?i)0.5å€|(\b(0.5x|x0.5)\b))).*$' }
- filter_0.8x: &filter_0.8x { filter: '^(?=.*((?i)0.8å€|(\b(0.8x|x0.8)\b))).*$' }

- filter_HK: &filter_HK { filter: '^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|æ¸¯|(\b(HK|Hong)\b))).*$' }
# - filter_HK_1: &filter_HK_1 {filter: '^(?=.*#1)(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b))).*$'} # åŒ…å« #1 çš„é¦™æ¸¯
- filter_TW: &filter_TW { filter: '^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°æ¹¾|å°åŒ—|å°ä¸­|é«˜é›„|(\b(TW|Tai|Taiwan)\b))).*$' }
- filter_JP: &filter_JP { filter: '^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)\b))).*$' }
- filter_KR: &filter_KR { filter: '^(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©å›½|å—éŸ©|é¦–å°”|é‡œå±±|(\b(KR|Korea|South Korea)\b))).*$' }
- filter_SG: &filter_SG { filter: '^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b))).*$' }
- filter_US: &filter_US { filter: '^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)\b))).*$' }
# - filter_RU: &filter_RU {filter: '^(?=.*((?i)ğŸ‡·ğŸ‡º|ä¿„ç½—æ–¯|ä¿„è”é‚¦|è«æ–¯ç§‘|åœ£å½¼å¾—å ¡|è¥¿ä¼¯åˆ©äºš|(\b(RU|Russia)\b))).*$'}
# - filter_TR: &filter_TR {filter: '^(?=.*((?i)ğŸ‡¹ğŸ‡·|åœŸè€³å…¶|å®‰å¡æ‹‰|ä¼Šæ–¯å¦å¸ƒå°”|ä¼Šå…¹å¯†å°”|(\b(TR|Turkey)\b))).*$'}
# - filter_AR: &filter_AR {filter: '^(?=.*((?i)ğŸ‡¦ğŸ‡·|é˜¿æ ¹å»·|å¸ƒå®œè¯ºæ–¯è‰¾åˆ©æ–¯|ç½—è¨é‡Œå¥¥|é—¨å¤šè¨|(\b(AR|Argentina)\b))).*$'}
# - filter_UK: &filter_UK {filter: '^(?=.*((?i)ğŸ‡¬ğŸ‡§|è‹±å›½|è‹±|ä¼¦æ•¦|æ›¼å½»æ–¯ç‰¹|(\b(UK|United Kingdom|Britain)\b))).*$'}
# - filter_FR: &filter_FR {filter: '^(?=.*((?i)ğŸ‡«ğŸ‡·|æ³•å›½|æ³•|å·´é»|é©¬èµ›|(\b(FR|France)\b))).*$'}
# - filter_DE: &filter_DE {filter: '^(?=.*((?i)ğŸ‡©ğŸ‡ª|å¾·å›½|å¾·|æŸæ—|æ…•å°¼é»‘|(\b(DE|Germany)\b))).*$'}
- filter_LU: &filter_LU { filter: '^(?=.*((?i)ğŸ‡±ğŸ‡º|å¢æ£®å ¡|(\b(LU|Luxembourg|BT|PT)\b))).*$' } # ç§å­ä¸“ç”¨

- proxies_proxy: &proxies_proxy { expected-status: '204', proxies: [ Proxy, Local, SubscriptionÂ¹, SubscriptionÂ², SubscriptionÂ³, Subscriptionâ´ ] }
- proxies_direct: &proxies_direct { expected-status: '204', proxies: [ Local, Proxy, SubscriptionÂ¹, SubscriptionÂ², SubscriptionÂ³, Subscriptionâ´ ] }

- UT: &UT { type: url-test, url: 'https://www.google.com/generate_204', expected-status: '204', max-failed-times: 2, interval: 30, tolerance: 15 }

- FB: &FB { type: fallback, url: 'https://www.google.com/generate_204', expected-status: '204', max-failed-times: 2, interval: 30 }

- LB-SS: &LB-SS { type: load-balance, strategy: sticky-sessions, url: 'https://www.google.com/generate_204', expected-status: '204', max-failed-times: 2, interval: 30 }
- LB-RR: &LB-RR { type: load-balance, strategy: round-robin, url: 'https://www.google.com/generate_204', expected-status: '204', max-failed-times: 2, interval: 30 }

proxy-groups:
# ç­–ç•¥ç»„å¯ä»¥åŒ…å«å¤šä¸ªä»£ç†, æˆ–å¤šä¸ªè¿œç¨‹ä»£ç†é›†; ä¸åŒ…å«ä»»ä½•ä»£ç†çš„ç­–ç•¥ç»„, ä¼šè¢«å½“ä½œä¸º DIRECT ç­–ç•¥å¤„ç†; å¦‚ç­–ç•¥ç»„ä»£ç†æ¥è‡ªè¿œç¨‹ä»£ç†é›†æ—¶, åˆ™ä½¿ç”¨ proxy-providers çš„ health-check
- { name: 'Proxy', type: select, <<: [ *UT ], proxies: [ Delay, Local, SubscriptionÂ¹, SubscriptionÂ², SubscriptionÂ³, Subscriptionâ´, Magnification ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png' }
- { name: 'Local', type: select, url: 'https://connect.rom.miui.com/generate_204', proxies: [ Local Auto, ä»¥å¤ªç½‘ + WLAN, wlan0 + wlan1, data0 + wlan0, data0 + wlan1, data1 + wlan0, data1 + wlan1, data2 + wlan0, data2 + wlan1, data3 + wlan0, data3 + wlan1 ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/China_Map.png' }
- { name: 'LModel', type: select, url: 'https://api.openai.com/cdn-cgi/trace', <<: [ *proxies_proxy ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/ChatGPT.png' }
- { name: 'Google', type: select, <<: [ *proxies_direct ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png' }
- { name: 'TGram', type: select, <<: [ *proxies_proxy ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png' }
- { name: 'Netflix', type: select, <<: [ *proxies_proxy ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix.png' }
- { name: 'Torrent', type: select, proxies: [ PASS, Local, Proxy, SubscriptionÂ¹, SubscriptionÂ², SubscriptionÂ³, Subscriptionâ´ ], <<: [ *filter_LU ], include-all-providers: true, icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png' }
- { name: 'Privacy', type: select, proxies: [ REJECT-DROP, PASS ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hijacking.png' }
- { name: 'Advertise', type: select, proxies: [ REJECT-DROP, PASS ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Advertising.png' }
- { name: 'Recreation', type: select, proxies: [ PASS, Proxy, Local ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Game.png' }

- { name: 'Provider', type: select, proxies: [ PASS, Local, Proxy ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Stack.png' } # ç”¨äºæ§åˆ¶èµ„æºæ›´æ–°çš„ç­–ç•¥ç»„
- { name: 'Magnification', type: select, proxies: [ 0x, 0.1x, 0.5x, 0.8x ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Speedtest.png' }
- { name: 'SubscriptionÂ¹', type: select, proxies: [ DelayÂ¹, AliveÂ¹, AffinityÂ¹, BalanceÂ¹, ğŸ‡­ğŸ‡° é¦™æ¸¯ utÂ¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾ utÂ¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬ utÂ¹, ğŸ‡°ğŸ‡· éŸ©å›½ utÂ¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸ utÂ¹, ğŸ‡ºğŸ‡¸ ç¾å›½ utÂ¹, ğŸ‡­ğŸ‡° é¦™æ¸¯ lbÂ¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾ lbÂ¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬ lbÂ¹, ğŸ‡°ğŸ‡· éŸ©å›½ lbÂ¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸ lbÂ¹, ğŸ‡ºğŸ‡¸ ç¾å›½ lbÂ¹ ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Available.png' }
- { name: 'SubscriptionÂ²', type: select, proxies: [ DelayÂ², AliveÂ², AffinityÂ², BalanceÂ², ğŸ‡­ğŸ‡° é¦™æ¸¯ utÂ², ğŸ‡¹ğŸ‡¼ å°æ¹¾ utÂ², ğŸ‡¯ğŸ‡µ æ—¥æœ¬ utÂ², ğŸ‡°ğŸ‡· éŸ©å›½ utÂ², ğŸ‡¸ğŸ‡¬ ç‹®åŸ utÂ², ğŸ‡ºğŸ‡¸ ç¾å›½ utÂ², ğŸ‡­ğŸ‡° é¦™æ¸¯ lbÂ², ğŸ‡¹ğŸ‡¼ å°æ¹¾ lbÂ², ğŸ‡¯ğŸ‡µ æ—¥æœ¬ lbÂ², ğŸ‡°ğŸ‡· éŸ©å›½ lbÂ², ğŸ‡¸ğŸ‡¬ ç‹®åŸ lbÂ², ğŸ‡ºğŸ‡¸ ç¾å›½ lbÂ² ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Available.png' }
- { name: 'SubscriptionÂ³', type: select, proxies: [ DelayÂ³, AliveÂ³, AffinityÂ³, BalanceÂ³, ğŸ‡­ğŸ‡° é¦™æ¸¯ utÂ³, ğŸ‡¹ğŸ‡¼ å°æ¹¾ utÂ³, ğŸ‡¯ğŸ‡µ æ—¥æœ¬ utÂ³, ğŸ‡°ğŸ‡· éŸ©å›½ utÂ³, ğŸ‡¸ğŸ‡¬ ç‹®åŸ utÂ³, ğŸ‡ºğŸ‡¸ ç¾å›½ utÂ³, ğŸ‡­ğŸ‡° é¦™æ¸¯ lbÂ³, ğŸ‡¹ğŸ‡¼ å°æ¹¾ lbÂ³, ğŸ‡¯ğŸ‡µ æ—¥æœ¬ lbÂ³, ğŸ‡°ğŸ‡· éŸ©å›½ lbÂ³, ğŸ‡¸ğŸ‡¬ ç‹®åŸ lbÂ³, ğŸ‡ºğŸ‡¸ ç¾å›½ lbÂ³ ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Available.png' }
- { name: 'Subscriptionâ´', type: select, proxies: [ Delayâ´, Aliveâ´, Affinityâ´, Balanceâ´, ğŸ‡­ğŸ‡° é¦™æ¸¯ utâ´, ğŸ‡¹ğŸ‡¼ å°æ¹¾ utâ´, ğŸ‡¯ğŸ‡µ æ—¥æœ¬ utâ´, ğŸ‡°ğŸ‡· éŸ©å›½ utâ´, ğŸ‡¸ğŸ‡¬ ç‹®åŸ utâ´, ğŸ‡ºğŸ‡¸ ç¾å›½ utâ´, ğŸ‡­ğŸ‡° é¦™æ¸¯ lbâ´, ğŸ‡¹ğŸ‡¼ å°æ¹¾ lbâ´, ğŸ‡¯ğŸ‡µ æ—¥æœ¬ lbâ´, ğŸ‡°ğŸ‡· éŸ©å›½ lbâ´, ğŸ‡¸ğŸ‡¬ ç‹®åŸ lbâ´, ğŸ‡ºğŸ‡¸ ç¾å›½ lbâ´ ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Available.png' }

- { name: 'QUIC', type: select, proxies: [ PASS, REJECT-DROP ], icon: 'https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Proxy.png' }

- { name: '0x', <<: [ *UT, *filter_0x ], include-all-providers: true, hidden: true }
- { name: '0.1x', <<: [ *UT, *filter_0.1x ], include-all-providers: true, hidden: true }
- { name: '0.5x', <<: [ *UT, *filter_0.5x ], include-all-providers: true, hidden: true }
- { name: '0.8x', <<: [ *UT, *filter_0.8x ], include-all-providers: true, hidden: true }

- { name: 'Delay', <<: [ *UT, *filter_EB ], include-all-providers: true, hidden: true }
- { name: 'DelayÂ¹', <<: [ *UT, *filter_EB ], use: [ Provider_1 ], hidden: true }
- { name: 'DelayÂ²', <<: [ *UT, *filter_EB ], use: [ Provider_2 ], hidden: true }
- { name: 'DelayÂ³', <<: [ *UT, *filter_EB ], use: [ Provider_3 ], hidden: true }
- { name: 'Delayâ´', <<: [ *UT, *filter_EB ], use: [ Provider_4 ], hidden: true }

- { name: 'AliveÂ¹', <<: [ *FB, *filter_EB ], use: [ Provider_1 ], hidden: true }
- { name: 'AliveÂ²', <<: [ *FB, *filter_EB ], use: [ Provider_2 ], hidden: true }
- { name: 'AliveÂ³', <<: [ *FB, *filter_EB ], use: [ Provider_3 ], hidden: true }
- { name: 'Aliveâ´', <<: [ *FB, *filter_EB ], use: [ Provider_4 ], hidden: true }

- { name: 'AffinityÂ¹', <<: [ *LB-SS, *filter_EB ], use: [ Provider_1 ], hidden: true }
- { name: 'AffinityÂ²', <<: [ *LB-SS, *filter_EB ], use: [ Provider_2 ], hidden: true }
- { name: 'AffinityÂ³', <<: [ *LB-SS, *filter_EB ], use: [ Provider_3 ], hidden: true }
- { name: 'Affinityâ´', <<: [ *LB-SS, *filter_EB ], use: [ Provider_4 ], hidden: true }

- { name: 'BalanceÂ¹', <<: [ *LB-RR, *filter_EB ], use: [ Provider_1 ], hidden: true }
- { name: 'BalanceÂ²', <<: [ *LB-RR, *filter_EB ], use: [ Provider_2 ], hidden: true }
- { name: 'BalanceÂ³', <<: [ *LB-RR, *filter_EB ], use: [ Provider_3 ], hidden: true }
- { name: 'Balanceâ´', <<: [ *LB-RR, *filter_EB ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡­ğŸ‡° é¦™æ¸¯ utÂ¹', <<: [ *UT, *filter_HK ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡­ğŸ‡° é¦™æ¸¯ utÂ²', <<: [ *UT, *filter_HK ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡­ğŸ‡° é¦™æ¸¯ utÂ³', <<: [ *UT, *filter_HK ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡­ğŸ‡° é¦™æ¸¯ utâ´', <<: [ *UT, *filter_HK ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡¹ğŸ‡¼ å°æ¹¾ utÂ¹', <<: [ *UT, *filter_TW ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡¹ğŸ‡¼ å°æ¹¾ utÂ²', <<: [ *UT, *filter_TW ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡¹ğŸ‡¼ å°æ¹¾ utÂ³', <<: [ *UT, *filter_TW ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡¹ğŸ‡¼ å°æ¹¾ utâ´', <<: [ *UT, *filter_TW ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬ utÂ¹', <<: [ *UT, *filter_JP ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬ utÂ²', <<: [ *UT, *filter_JP ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬ utÂ³', <<: [ *UT, *filter_JP ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬ utâ´', <<: [ *UT, *filter_JP ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡°ğŸ‡· éŸ©å›½ utÂ¹', <<: [ *UT, *filter_KR ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡°ğŸ‡· éŸ©å›½ utÂ²', <<: [ *UT, *filter_KR ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡°ğŸ‡· éŸ©å›½ utÂ³', <<: [ *UT, *filter_KR ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡°ğŸ‡· éŸ©å›½ utâ´', <<: [ *UT, *filter_KR ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡¸ğŸ‡¬ ç‹®åŸ utÂ¹', <<: [ *UT, *filter_SG ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡¸ğŸ‡¬ ç‹®åŸ utÂ²', <<: [ *UT, *filter_SG ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡¸ğŸ‡¬ ç‹®åŸ utÂ³', <<: [ *UT, *filter_SG ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡¸ğŸ‡¬ ç‹®åŸ utâ´', <<: [ *UT, *filter_SG ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡ºğŸ‡¸ ç¾å›½ utÂ¹', <<: [ *UT, *filter_US ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡ºğŸ‡¸ ç¾å›½ utÂ²', <<: [ *UT, *filter_US ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡ºğŸ‡¸ ç¾å›½ utÂ³', <<: [ *UT, *filter_US ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡ºğŸ‡¸ ç¾å›½ utâ´', <<: [ *UT, *filter_US ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡­ğŸ‡° é¦™æ¸¯ lbÂ¹', <<: [ *LB-RR, *filter_HK ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡­ğŸ‡° é¦™æ¸¯ lbÂ²', <<: [ *LB-RR, *filter_HK ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡­ğŸ‡° é¦™æ¸¯ lbÂ³', <<: [ *LB-RR, *filter_HK ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡­ğŸ‡° é¦™æ¸¯ lbâ´', <<: [ *LB-RR, *filter_HK ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡¹ğŸ‡¼ å°æ¹¾ lbÂ¹', <<: [ *LB-RR, *filter_TW ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡¹ğŸ‡¼ å°æ¹¾ lbÂ²', <<: [ *LB-RR, *filter_TW ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡¹ğŸ‡¼ å°æ¹¾ lbÂ³', <<: [ *LB-RR, *filter_TW ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡¹ğŸ‡¼ å°æ¹¾ lbâ´', <<: [ *LB-RR, *filter_TW ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬ lbÂ¹', <<: [ *LB-RR, *filter_JP ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬ lbÂ²', <<: [ *LB-RR, *filter_JP ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬ lbÂ³', <<: [ *LB-RR, *filter_JP ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬ lbâ´', <<: [ *LB-RR, *filter_JP ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡°ğŸ‡· éŸ©å›½ lbÂ¹', <<: [ *LB-RR, *filter_KR ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡°ğŸ‡· éŸ©å›½ lbÂ²', <<: [ *LB-RR, *filter_KR ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡°ğŸ‡· éŸ©å›½ lbÂ³', <<: [ *LB-RR, *filter_KR ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡°ğŸ‡· éŸ©å›½ lbâ´', <<: [ *LB-RR, *filter_KR ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡¸ğŸ‡¬ ç‹®åŸ lbÂ¹', <<: [ *LB-RR, *filter_SG ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡¸ğŸ‡¬ ç‹®åŸ lbÂ²', <<: [ *LB-RR, *filter_SG ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡¸ğŸ‡¬ ç‹®åŸ lbÂ³', <<: [ *LB-RR, *filter_SG ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡¸ğŸ‡¬ ç‹®åŸ lbâ´', <<: [ *LB-RR, *filter_SG ], use: [ Provider_4 ], hidden: true }

- { name: 'ğŸ‡ºğŸ‡¸ ç¾å›½ lbÂ¹', <<: [ *LB-RR, *filter_US ], use: [ Provider_1 ], hidden: true }
- { name: 'ğŸ‡ºğŸ‡¸ ç¾å›½ lbÂ²', <<: [ *LB-RR, *filter_US ], use: [ Provider_2 ], hidden: true }
- { name: 'ğŸ‡ºğŸ‡¸ ç¾å›½ lbÂ³', <<: [ *LB-RR, *filter_US ], use: [ Provider_3 ], hidden: true }
- { name: 'ğŸ‡ºğŸ‡¸ ç¾å›½ lbâ´', <<: [ *LB-RR, *filter_US ], use: [ Provider_4 ], hidden: true }

- { name: 'ä»¥å¤ªç½‘ + WLAN', <<: *LB-RR, proxies: [ ä»¥å¤ªç½‘, WLAN ], hidden: true }
- { name: 'wlan0 + wlan1', <<: *LB-RR, proxies: [ wlan0, wlan1 ], hidden: true }
- { name: 'data0 + wlan0', <<: *LB-RR, proxies: [ rmnet_data0, wlan0 ], hidden: true }
- { name: 'data0 + wlan1', <<: *LB-RR, proxies: [ rmnet_data0, wlan1 ], hidden: true }
- { name: 'data1 + wlan0', <<: *LB-RR, proxies: [ rmnet_data1, wlan0 ], hidden: true }
- { name: 'data1 + wlan1', <<: *LB-RR, proxies: [ rmnet_data1, wlan1 ], hidden: true }
- { name: 'data2 + wlan0', <<: *LB-RR, proxies: [ rmnet_data2, wlan0 ], hidden: true }
- { name: 'data2 + wlan1', <<: *LB-RR, proxies: [ rmnet_data2, wlan1 ], hidden: true }
- { name: 'data3 + wlan0', <<: *LB-RR, proxies: [ rmnet_data3, wlan0 ], hidden: true }
- { name: 'data3 + wlan1', <<: *LB-RR, proxies: [ rmnet_data3, wlan1 ], hidden: true }

rule-providers-anchor:
  # é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹, åˆ™ä¸ä¼šå»åˆå¹¶; é”šç‚¹åå°½é‡ä¸è¦å«ç‰¹æ®Šå­—ç¬¦
  rule_domain: &rule_domain { type: http, behavior: domain, format: mrs, proxy: Provider }
  rule_ipcidr: &rule_ipcidr { type: http, behavior: ipcidr, format: mrs, proxy: Provider }
  rule_asn: &rule_asn { type: http, behavior: ipcidr, format: mrs, proxy: Provider }
  rule_classical: &rule_classical { type: http, behavior: classical, format: yaml, proxy: Provider }

rule-providers:
  # åˆ©ç”¨è§„åˆ™é›†åˆ, å¯ä»¥åœ¨è¾ƒä½èµ„æºå ç”¨æƒ…å†µä¸‹å¼•ç”¨å¤§é‡è§„åˆ™; domain/ipcidr ç±»è§„åˆ™é›†, æ¯” classical ç±»è§„åˆ™é›†åŒ¹é…æ›´é«˜æ•ˆ
  site_dns-blocklists:
    format: text
    <<: *rule_domain
    path: './rule_providers/domain/dns-blocklists'
    url: 'https://cdn.jsdelivr.net/gh/hagezi/dns-blocklists@master/domains/pro.txt'
  site_httpdns:
    <<: *rule_domain
    path: './rule_providers/domain/httpdns'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/httpdns.mrs'
  site_category-httpdns-cn:
    <<: *rule_domain
    path: './rule_providers/domain/category-httpdns-cn'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-httpdns-cn.mrs'
  site_private:
    <<: *rule_domain
    path: './rule_providers/domain/private'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/private.mrs'
  site_googlefcm:
    <<: *rule_domain
    path: './rule_providers/domain/googlefcm'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/googlefcm.mrs'
  site_category-public-tracker:
    <<: *rule_domain
    path: './rule_providers/domain/category-public-tracker'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-public-tracker.mrs'
  site_category-pt:
    <<: *rule_domain
    path: './rule_providers/domain/category-pt'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-pt.mrs'
  site_category-games@cn:
    <<: *rule_domain
    path: './rule_providers/domain/category-games@cn'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-games@cn.mrs'
  site_netflix:
    <<: *rule_domain
    path: './rule_providers/domain/netflix'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/netflix.mrs'
  site_category-ai-chat-!cn:
    <<: *rule_domain
    path: './rule_providers/domain/category-ai-chat-!cn'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-ai-chat-!cn.mrs'
  site_openai:
    <<: *rule_domain
    path: './rule_providers/domain/openai'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/openai.mrs'
  site_telegram:
    <<: *rule_domain
    path: './rule_providers/domain/telegram'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/telegram.mrs'
  site_google:
    <<: *rule_domain
    path: './rule_providers/domain/google'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/google.mrs'
  site_tencent:
    <<: *rule_domain
    path: './rule_providers/domain/tencent'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/tencent.mrs'
  site_geolocation-!cn:
    <<: *rule_domain
    path: './rule_providers/domain/geolocation-!cn'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/geolocation-!cn.mrs'
  site_cn:
    <<: *rule_domain
    path: './rule_providers/domain/cn'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/cn.mrs'

  ip_private:
    <<: *rule_ipcidr
    path: './rule_providers/ipcidr/private'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/private.mrs'
  ip_telegram:
    <<: *rule_ipcidr
    path: './rule_providers/ipcidr/telegram'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/telegram.mrs'
  ip_netflix:
    <<: *rule_ipcidr
    path: './rule_providers/ipcidr/netflix'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/netflix.mrs'
  ip_cloudflare:
    <<: *rule_ipcidr
    path: './rule_providers/ipcidr/cloudflare'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/cloudflare.mrs'
  ip_google:
    <<: *rule_ipcidr
    path: './rule_providers/ipcidr/google'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/google.mrs'
  ip_cn:
    <<: *rule_ipcidr
    path: './rule_providers/ipcidr/cn'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/cn.mrs'

  asn_45090:
    <<: *rule_asn
    path: './rule_providers/asn/45090'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/asn/AS45090.mrs'
  asn_132203:
    <<: *rule_asn
    path: './rule_providers/asn/132203'
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/asn/AS132203.mrs'

sub-rules: # å­è§„åˆ™ åŒ¹é…åˆ° sub-rules æ—¶, æœªå‘½ä¸­åˆ™ä½¿ç”¨ rules

rules:
# åˆ†æµè§„åˆ™å¯ä»¥ç›´æ¥å¼•ç”¨ä»£ç†æˆ–ç­–ç•¥ç»„, ä½†ä¸èƒ½å¼•ç”¨è¿œç¨‹ä»£ç†é›†; å¯¹äºæ¯ä¸€æ¡è¿æ¥, æ€»æ˜¯ä»ä¸Šåˆ°ä¸‹åŒ¹é…è§„åˆ™; éœ€è¦å¤æ‚æ¡ä»¶æ—¶, å¯ä»¥ç”¨é€»è¾‘è¿ç®—ç¬¦å»ç»„åˆå¤šä¸ªè§„åˆ™. å¹¶ä¸”é€»è¾‘è§„åˆ™æ˜¯å¯ä»¥ç›¸äº’åµŒå¥—çš„
- 'DST-PORT,53,DNS Hijacking' # åŠ«æŒ DNS åˆ° Clash å†…éƒ¨ DNS æ¨¡å—
- 'RULE-SET,site_dns-blocklists,Advertise' # éœ€è¦æ‹¦æˆªçš„å¹¿å‘Š å¤§éƒ¨åˆ†æƒ…å†µå¯èƒ½å‡ºç°è¯¯æ€
- 'AND,((NETWORK,udp),(NOT,((OR,(RULE-SET,site_cn),(RULE-SET,ip_cn))))),QUIC' # å›½å†…ä»¥å¤–çš„ QUIC
- 'AND,((NETWORK,udp),(DOMAIN-REGEX,(?i).*(stun|turn).*)),Privacy' # æ˜¯å¦ç¦ç”¨ stun/turn åè®®çš„ udp æ•°æ®ï¼Œç¦ç”¨åå¯ä»¥æœ‰æ•ˆè§£å†³ webrtc çš„ ip æ³„éœ²
- 'AND,((DST-PORT,5228-5230),(RULE-SET,site_googlefcm)),Google' # Google FCM ç›´è¿ç¡®ä¿ DNS æ— æ±¡æŸ“/åŠ«æŒ
- 'OR,((RULE-SET,site_httpdns),(RULE-SET,site_category-httpdns-cn),(DOMAIN-KEYWORD,httpdns)),REJECT-DROP' # æ‹¦æˆª httpdns æœåŠ¡, ä»¥ç¡®ä¿è¿™äº›è¯·æ±‚èƒ½å¤Ÿåœ¨ Clash çš„ DNS æ¡†æ¶ä¸‹å·¥ä½œ
- 'OR,((RULE-SET,site_private),(RULE-SET,ip_private,no-resolve)),Local' # å±€åŸŸç½‘..
- 'OR,((RULE-SET,site_category-public-tracker),(RULE-SET,site_category-pt)),Torrent' # ç§å­
- 'OR,((RULE-SET,site_category-games@cn),(RULE-SET,site_category-games@cn)),Recreation' # æ¸¸æˆç›¸å…³éƒ¨åˆ† cn åŸŸå
- 'OR,((RULE-SET,site_telegram),(RULE-SET,ip_telegram)),TGram' # Telegram
- 'OR,((RULE-SET,site_netflix),(RULE-SET,ip_netflix)),Netflix' # Netflix
- 'OR,((RULE-SET,site_category-ai-chat-!cn),(RULE-SET,site_openai)),LModel' # è¯­è¨€æ¨¡å‹
- 'OR,((RULE-SET,site_google),(RULE-SET,ip_google)),Proxy' # Google
- 'OR,((RULE-SET,site_tencent),(RULE-SET,asn_45090),(RULE-SET,asn_132203)),Local' # è…¾è®¯
- 'OR,((RULE-SET,site_geolocation-!cn),(RULE-SET,ip_cloudflare)),Proxy' # å›½å¤–å¸¸è§åŸŸå/ip  'cn' å‚æ‚äº† 'geolocation-!cn'
- 'OR,((RULE-SET,site_cn),(RULE-SET,ip_cn)),Local' # éƒ¨åˆ† cn åŸŸå/ip
- 'MATCH,Proxy' # åŒ¹é…æ‰€æœ‰è¯·æ±‚, æ— éœ€æ¡ä»¶

#################### END ####################
