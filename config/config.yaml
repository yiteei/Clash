#!MANAGED-CONFIG https://gist.githubusercontent.com/x/x/raw/x.yaml
#################### START ####################
mode: "rule" # è¿è¡Œæ¨¡å¼ rule/global/direct, æš‚ä¸æ”¯æŒ script
log-level: "info" # æ—¥å¿—çº§åˆ« silent/error/warning/info/debug
find-process-mode: "off" # è¿›ç¨‹æ¨¡å¼ off/strict/always
geodata-mode: false # GEOIP æ•°æ®æ¨¡å¼ geoip æ–‡ä»¶ä¸º mmdb/dat æ ¼å¼, true ä¸º dat æ ¼å¼
geosite-matcher: "succinct" # GeoSite åŒ¹é…å™¨ä½¿ç”¨çš„å®ç° succinct (default, same as rule-set)/mph (from V2Ray, also `hybrid` in Xray)
geodata-loader: "standard" # GEO æ–‡ä»¶åŠ è½½æ¨¡å¼ standard/memconservative
geo-auto-update: false # è‡ªåŠ¨æ›´æ–° GEO æ˜¯å¦å¯ç”¨
geo-update-interval: 24 # æ›´æ–°é—´éš”, å•ä½ h
geox-url: # è‡ªå®š GEO ä¸‹è½½åœ°å€
  mmdb: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"
  asn: "https://cdn.jsdelivr.net/gh/xishang0128/geoip@release/GeoLite2-ASN.mmdb"
  geoip: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
profile: # ç¼“å­˜
  store-selected: true # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©, ä»¥ä¾›ä¸‹æ¬¡å¯åŠ¨æ—¶ä½¿ç”¨
ipv6: true # IPv6 æ˜¯å¦å…è®¸å†…æ ¸æ¥å— IPv6 æµé‡
tcp-concurrent: true # TCP å¹¶å‘ å¦‚æœåŸŸåè§£æç»“æœå¯¹åº”å¤šä¸ªIP, å¹¶å‘è¯·æ±‚æ‰€æœ‰IP, é€‰æ‹©æ¡æ‰‹æœ€å¿«çš„IPè¿›è¡Œé€šè®¯
keep-alive-interval: 15 # æ§åˆ¶ Clash å‘å‡º TCP Keep Alive åŒ…çš„é—´éš”, å•ä½ s, å‡å°‘ç§»åŠ¨è®¾å¤‡è€—ç”µé—®é¢˜çš„ä¸´æ—¶æªæ–½
unified-delay: true # ç»Ÿä¸€å»¶è¿Ÿ, ä¼šè®¡ç®— RTT, ä»¥æ¶ˆé™¤è¿æ¥æ¡æ‰‹ç­‰å¸¦æ¥çš„ä¸åŒç±»å‹èŠ‚ç‚¹çš„å»¶è¿Ÿå·®å¼‚
global-client-fingerprint: "chrome" # å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹ chrome/firefox/safari/iOS/android/edge/360/qq/random, ä¼˜å…ˆä½äº proxy å†…çš„ client-fingerprint, ç›®å‰æ”¯æŒå¼€å¯ TLS ä¼ è¾“çš„ TCP/grpc/WS/HTTP, æ”¯æŒåè®®æœ‰ VLESS/Vmess/Trojan
global-ua: "Mozilla" # å…¨å±€ UA, é»˜è®¤ clash.meta

allow-lan: true # å…è®¸å…¶ä»–è®¾å¤‡ç»è¿‡ Clash çš„ä»£ç†ç«¯å£è®¿é—®äº’è”ç½‘
bind-address: "*" # ç»‘å®šåœ°å€, ä»…å…è®¸å…¶ä»–è®¾å¤‡é€šè¿‡è¿™ä¸ªåœ°å€è®¿é—®
authentication: # ç”¨æˆ·éªŒè¯ http(s)/socks/mixed ä»£ç†çš„ç”¨æˆ·éªŒè¯
  - "clash:clash" # ç”¨æˆ·:å¯†ç 
skip-auth-prefixes: # è·³è¿‡éªŒè¯çš„ IP æ®µ
  - "127.0.0.1/8"
  - "::1/128"
external-ui: "./ui" # å¤–éƒ¨ç”¨æˆ·ç•Œé¢çš„è·¯å¾„
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip" # è‡ªå®šä¹‰å¤–éƒ¨ç”¨æˆ·ç•Œé¢ä¸‹è½½åœ°å€
external-controller: "0.0.0.0:9090" # API ç›‘å¬åœ°å€
secret: "clash" # API çš„è®¿é—®å¯†é’¥

port: 5551 # http/socks/mixed ç«¯å£éªŒè¯ä¸å¤–éƒ¨è®¿é—®
socks-port: 5552 # socks4/4a/5 ä»£ç†ç«¯å£
redir-port: 5553 # redirect é€æ˜ä»£ç†ç«¯å£, ä»…èƒ½ä»£ç† TCP æµé‡
tproxy-port: 5554 # tproxy é€æ˜ä»£ç†ç«¯å£, å¯ä»£ç† TCP ä¸ UDP æµé‡
mixed-port: 5555 # æ··åˆç«¯å£ åŒæ—¶æ”¯æŒ HTTP(S) å’Œ SOCKS5 åè®®

tun:
  enable: true # æ˜¯å¦å¯ç”¨
  stack: "mixed" # tun æ¨¡å¼å †æ ˆ system/gvisor/mixed
  device: "Clash" # æŒ‡å®š tun ç½‘å¡åç§°, MacOS è®¾å¤‡åªèƒ½ä½¿ç”¨ utun å¼€å¤´çš„ç½‘å¡å
  auto-route: true # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±, å¯ä»¥è‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿›å…¥ tun ç½‘å¡
  auto-redirect: false # è‡ªåŠ¨é…ç½® iptables/nftables ä»¥é‡å®šå‘ TCP è¿æ¥, éœ€è¦ auto-route å¯ç”¨
  auto-detect-interface: true # è‡ªåŠ¨é€‰æ‹©æµé‡å‡ºå£æ¥å£, å¤šå‡ºå£ç½‘å¡åŒæ—¶è¿æ¥çš„è®¾å¤‡å»ºè®®æ‰‹åŠ¨æŒ‡å®šå‡ºå£ç½‘å¡
  strict-route: false # ä¸¥æ ¼è·¯ç”± æ‰€æœ‰è¿æ¥è·¯ç”±åˆ° tun æ¥é˜²æ­¢æ³„æ¼, ä½†è®¾å¤‡å°†æ— æ³•è¢«å…¶ä»–è®¾å¤‡è®¿é—®
  udp-timeout: 180 # UDP NAT è¿‡æœŸæ—¶é—´, å•ä½ s, é»˜è®¤ä¸º 300(5 åˆ†é’Ÿ)
  endpoint-independent-nat: false # å¯ç”¨ç‹¬ç«‹äºç«¯ç‚¹çš„ NAT, æ€§èƒ½å¯èƒ½ä¼šç•¥æœ‰ä¸‹é™, æ‰€ä»¥ä¸å»ºè®®åœ¨ä¸éœ€è¦çš„æ—¶å€™å¼€å¯
  route-address: # å¯ç”¨ auto-route æ—¶ä½¿ç”¨è‡ªå®šä¹‰è·¯ç”±è€Œä¸æ˜¯é»˜è®¤è·¯ç”±
    - "0.0.0.0/1"
    - "128.0.0.0/1"
    - "::/1"
    - "8000::/1"
  route-exclude-address: # å¯ç”¨ auto-route æ—¶æ’é™¤è‡ªå®šä¹‰ç½‘æ®µ
    - "192.168.0.0/16"
    - "fc00::/7"


hosts: # æ”¯æŒå•åŸŸåå¤š ip, æ ¼å¼ä¸ºæ•°ç»„; æ”¯æŒé€šé…ç¬¦åŸŸå(ä»»ä½•åŒ…å«è¿™äº›å­—ç¬¦çš„åŸŸåéƒ½åº”è¯¥ (') åŒ…è£¹, ä¾‹å¦‚, '*.google.com'), ä¸ä½¿ç”¨é€šé…ç¬¦çš„åŸŸåä¼˜å…ˆçº§é«˜äºä½¿ç”¨é€šé…ç¬¦çš„åŸŸå
  cloudflare-dns.com: [2606:4700:4700::1001, 1.0.0.1] # æŠŠåŸŸåç±»å‹ DNS åŠ å…¥ hosts ä»¥é˜²æ­¢ default-nameserver è§£ææ±¡æŸ“
  dns.alidns.com: [2400:3200:baba::1, 223.6.6.6]

dns: # DNS æœåŠ¡å™¨ä¹¦å†™è§„èŒƒåº”å¸¦å¼•å·, ä»¥é˜²å‡ºç°ç‰¹æ®Šå­—ç¬¦
  enable: true # æ˜¯å¦å¯ç”¨, å¦‚ä¸º false, åˆ™ä½¿ç”¨ç³»ç»Ÿ DNS è§£æ
  listen: "0.0.0.0:1053" # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬
  ipv6: true # false å°†è¿”å› AAAA çš„ç©ºç»“æœ
  ipv6-timeout: 300 # å•ä½ ms, å†…éƒ¨åŒæ ˆå¹¶å‘, å‘ä¸Šæ¸¸æŸ¥è¯¢ AAAA æ—¶, ç­‰å¾… AAAA çš„æ—¶é—´, é»˜è®¤ 100
  prefer-h3: false # å¼€å¯ DoH æ”¯æŒ HTTP/3, å°†å¹¶å‘å°è¯•
  use-hosts: true # æ˜¯å¦æŸ¥è¯¢é…ç½®ä¸­çš„ hosts, é»˜è®¤ true
  use-system-hosts: false # æ˜¯å¦æŸ¥è¯¢ç³»ç»Ÿ hosts, é»˜è®¤ true
  respect-rules: true # dns è¿æ¥è·Ÿéš rule, éœ€é…ç½® proxy-server-nameserver
  enhanced-mode: "redir-host" # DNS å¤„ç†æ¨¡å¼ fake-ip/redir-host(Meta å›æ»šäº† Redir Host éƒ¨åˆ†ä»£ç , ä»ç„¶ä¿ç•™ Clash v1.70 ä»¥å‰çš„ Redir Host æ¨¡å¼çš„åŸŸåä¼ é€’è¡Œä¸º)/normal
  nameserver: # é»˜è®¤åŸŸåè§£æ, å¦‚ä¸é…ç½® fallback/proxy-server-nameserver, åˆ™éƒ½ç”± nameserver è§£æ
    - "https://cloudflare-dns.com/dns-query" # Cloudflare DNS
  proxy-server-nameserver: # ç”¨äºèŠ‚ç‚¹åŸŸåè§£æ å¦‚å…¶ä»– DNS éœ€è¿‡ä»£ç†æŸ¥è¯¢/nameserver ä¸ºå›½å¤– DNS åˆ™é…ç½®è¯¥é¡¹ä»¥é˜²å‡ºç°é¸¡è›‹é—®é¢˜
    - "https://dns.alidns.com/dns-query" # Alibaba DNS
  nameserver-policy: # æŒ‡å®šçš„è§£ææœåŠ¡, æ²¡åŒ¹é…åˆ°ä½¿ç”¨ nameserver/fallback å¹¶å‘æŸ¥è¯¢
    "rule-set:site_private,site_cn":
      - "https://dns.alidns.com/dns-query" # Alibaba DNS

sniffer: # Sniffer åŸŸåå—…å™¨ é€šè¿‡è¯»å–æ¡æ‰‹åŒ…å†…çš„åŸŸåå­—æ®µ, å°† IP è¿˜åŸæˆåŸŸå
  enable: true # æ˜¯å¦å¯ç”¨
  force-dns-mapping: true # å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: true # å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  override-destination: true # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®, é»˜è®¤  true
  sniff: # TLS å’Œ QUIC é»˜è®¤å¦‚æœä¸é…ç½® ports é»˜è®¤å—…æ¢ 443
    HTTP: # é»˜è®¤å—…æ¢ 80
      ports: [80, 8080-8880]
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain: # éœ€è¦è·³è¿‡å—…æ¢çš„åŸŸå, ä¸»è¦è§£å†³éƒ¨åˆ†ç«™ç‚¹ sni å­—æ®µéåŸŸå, å¯¼è‡´å—…æ¢ç»“æœå¼‚å¸¸çš„é—®é¢˜, å¦‚ç±³å®¶è®¾å¤‡
    - "+.apple.com"
    - "Mijia Cloud"
    - "dlg.io.mi.com"
    - "+.jd.com"
    - "+.taobao.com"
    - "+.tmall.com"
    - "*.rc.sunlogin.net"


ntp: # NTP æœåŠ¡å™¨é…ç½® å¦‚æœä½¿ç”¨ Vmess åè®®, å®¢æˆ·ç«¯çš„æ—¶é—´å’Œ VPS çš„æ—¶é—´è¯¯å·®è¶… 90s, å°±ä¼šå¯¼è‡´ä¸èƒ½æ­£å¸¸ä½¿ç”¨
  enable: false # æ˜¯å¦å¯ç”¨ NTP æœåŠ¡
  write-to-system: true # æ˜¯å¦åŒæ­¥è‡³ç³»ç»Ÿæ—¶é—´, éœ€è¦ root/ç®¡ç†å‘˜æ¨¡å¼ è¿è¡Œ
  server: "ntp.ntsc.ac.cn" # NTP æœåŠ¡åœ°å€
  port: "123" # NTP æœåŠ¡ç«¯å£, é»˜è®¤ 123
  interval: 1440 # åŒæ­¥æ—¶é—´é—´éš”, å•ä½ min, é»˜è®¤ 30 min

proxies: # å‡ºç«™é…ç½® æŸ¥çœ‹æ¥å£å‘½ä»¤: netsh interface show interface  Tip: æ‰‹æœºéœ€è¦ root è·‘å†…æ ¸ ä»¥ç»‘å®šæ¥å£
  - {name: "DNS åŠ«æŒ", type: dns, udp: true} # dns å‡ºç«™ä¼šå°†è¯·æ±‚åŠ«æŒåˆ°å†…éƒ¨ dns æ¨¡å—, æ‰€æœ‰è¯·æ±‚å‡åœ¨å†…éƒ¨å¤„ç†
  - {name: "è‡ªåŠ¨ç›´è¿", type: direct, udp: true}
  - {name: "ä»¥å¤ªç½‘", type: direct, udp: true, interface-name: ä»¥å¤ªç½‘} # Windows ç½‘çº¿
  - {name: "WLAN", type: direct, udp: true, interface-name: WLAN} # Windows WiFi
  - {name: "wlan0", type: direct, udp: true, interface-name: wlan0} # WiFi/Wå£
  - {name: "wlan1", type: direct, udp: true, interface-name: wlan1}
  - {name: "rmnet_data0", type: direct, udp: true, interface-name: rmnet_data0} # Android ç§»åŠ¨æ•°æ®
  - {name: "rmnet_data1", type: direct, udp: true, interface-name: rmnet_data1}
  - {name: "rmnet_data2", type: direct, udp: true, interface-name: rmnet_data2}
  - {name: "rmnet_data3", type: direct, udp: true, interface-name: rmnet_data3}

proxy-providers-anchor: # é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹, åˆ™ä¸ä¼šå»åˆå¹¶
  - proxy_providers_header: &proxy_providers_header
      User-Agent:
        - "clash.meta"
        - "meta"
        - "mihomo"
        - "clash-verge"
        - "ClashMetaForAndroid"
        - "flclash"
        - "stash"
        - "ClashforWindows"
        - "ClashForAndroid"
        - "clash"
  - proxy_providers_health_check: &proxy_providers_health_check
      url: "https://www.google.com" # ä½¿â½¤ https, é˜²â½Œâ½†ï¥¼â½¼æ¿ä¼ªé€ å»¶è¿Ÿ!
      interval: "180" # æµ‹è¯•é—´éš”, ä¸ä¸º 0 åˆ™å¯ç”¨å®šæ—¶æµ‹è¯•, å•ä½ s
      timeout: "3000" # å¥åº·æ£€æŸ¥è¶…æ—¶æ—¶é—´, å•ä½ä¸º ms
      expected-status: "204" # æœŸæœ›çŠ¶æ€, åªæœ‰å½“å“åº”çŠ¶æ€ç ä¸æœŸæœ›çŠ¶æ€ä¸€è‡´æ—¶æ‰è®¤ä¸ºèŠ‚ç‚¹å¯ç”¨
  - proxy_providers_override: &proxy_providers_override
      skip-cert-verify: false # è·³è¿‡è¯ä¹¦éªŒè¯, ä»…é€‚ç”¨äºä½¿ç”¨ tls çš„åè®®
      ip-version: "ipv6-prefer" # è®¾ç½®èŠ‚ç‚¹ä½¿ç”¨ IP ç‰ˆæœ¬, é»˜è®¤ dual; dual/ipv4/ipv6/ipv4-prefer/ipv6-prefer ipv4-prefer/ipv6-prefer ä¸ºåŒæ ˆè§£æ

proxy-providers: # æ”¯æŒç›´æ¥ä½¿ç”¨ V2rayN ç­‰å®¢æˆ·ç«¯çš„æ™®é€šè®¢é˜…; ä¸€ä¸ªåˆæ³•çš„è¿œç¨‹ä»£ç†é›†å¿…é¡»åŒ…å« proxies å­—æ®µ, è¿œç¨‹ä»£ç†é›†ä¸ºç©ºæ—¶ä¼šä»¥ DIRECT æ›¿ä»£
  "Subscription_1": # è®¢é˜…åç§°
    type: http # å¿…é¡», provider ç±»å‹ http/file
    url: "https://" # ä½ çš„è®¢é˜…é“¾æ¥
    path: "./proxy_providers/Subscription_1.yaml" # é…ç½®ä¿å­˜ä½ç½®
    interval: 86400 # æ›´æ–° provider çš„æ—¶é—´, å•ä½ s
    header:
      <<: *proxy_providers_header # å¼•ç”¨ç›¸å…³é”šç‚¹
    exclude-filter: "(?i)(?:é€šçŸ¥|å…¬å‘Š|å®˜ç½‘|åœ°å€|åŸŸå|é‚€|ä½£|com|tg|å‰å¾€|åŠ å…¥|ç¾¤|é¢‘é“|æµé‡|å‰©|æœŸ|ç»­)" # æ’é™¤, ä½¿ç”¨ç­›é€‰å¯èƒ½ä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ CPUå ç”¨/è½¬å‘å»¶è¿Ÿ, å°¤å…¶æ˜¯ä½¿ç”¨è¾ƒä¸ºå¤æ‚æ­£åˆ™çš„æƒ…å†µä¸‹
    health-check: # ä»£ç†é›†å»¶è¿Ÿæ£€æµ‹
      enable: true # æ˜¯å¦å¯ç”¨
      <<: *proxy_providers_health_check
    override: # è¦†å†™èŠ‚ç‚¹å†…å®¹
      <<: *proxy_providers_override
      additional-suffix: "@è®¢é˜…1" # ä¸ºèŠ‚ç‚¹åç§°æ·»åŠ å›ºå®šå‰ç¼€

  "Subscription_2": # è®¢é˜…åç§°
    type: http
    url: "https://"
    path: "./proxy_providers/Subscription_2.yaml"
    interval: 86400
    header:
      <<: *proxy_providers_header
    exclude-filter: "(?i)(?:é€šçŸ¥|å…¬å‘Š|å®˜ç½‘|åœ°å€|åŸŸå|é‚€|ä½£|com|tg|å‰å¾€|åŠ å…¥|ç¾¤|é¢‘é“|æµé‡|å‰©|æœŸ|ç»­)"
    health-check:
      enable: true
      <<: *proxy_providers_health_check
    override:
      <<: *proxy_providers_override
      additional-suffix: "@è®¢é˜…2"

  "Subscription_3": # å°é¸¡å¿«è·‘ aff: https://v2.xiaojikp.cc/#/register?invitecode=z1RKg6KW
    type: http
    url: "https://"
    path: "./proxy_providers/Subscription_3.yaml"
    interval: 86400
    header:
      <<: *proxy_providers_header
    exclude-filter: "(?i)(?:é€šçŸ¥|å…¬å‘Š|å®˜ç½‘|åœ°å€|åŸŸå|é‚€|ä½£|com|tg|å‰å¾€|åŠ å…¥|ç¾¤|é¢‘é“|æµé‡|å‰©|æœŸ|ç»­)"
    health-check:
      enable: true
      <<: *proxy_providers_health_check
    override:
      <<: *proxy_providers_override
      additional-suffix: "@Chicken Run"

  "Subscription_4": # Free Cloud aff: https://intel.im/#/register?code=YDEx84ta
    type: http
    url: "https://"
    path: "./proxy_providers/Subscription_4.yaml"
    interval: 86400
    header:
      <<: *proxy_providers_header
    exclude-filter: "(?i)(?:é€šçŸ¥|å…¬å‘Š|å®˜ç½‘|åœ°å€|åŸŸå|é‚€|ä½£|com|tg|å‰å¾€|åŠ å…¥|ç¾¤|é¢‘é“|æµé‡|å‰©|æœŸ|ç»­)"
    health-check:
      enable: true
      <<: *proxy_providers_health_check
    override:
      <<: *proxy_providers_override
      additional-suffix: "@Free Cloud"
 

proxy-groups-anchor: # é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹, åˆ™ä¸ä¼šå»åˆå¹¶
  - proxy_groups_health_check_proxy: &proxy_groups_health_check_proxy {url: "https://www.google.com", expected-status: "204", interval: "180", timeout: "3000", max-failed-times: 1} # ç­–ç•¥ç»„ proxy å»¶è¿Ÿæ£€æµ‹
  - proxy_groups_health_check_direct: &proxy_groups_health_check_direct {url: "https://www.tencent.com", expected-status: "204", interval: "180", timeout: "3000", max-failed-times: 1} # ç­–ç•¥ç»„ direct å»¶è¿Ÿæ£€æµ‹
  - proxy_groups_proxy: &proxy_groups_proxy {type: select, proxies: [Internet, åè®®äº’è”, Moist_R, CMLiussss, Chicken Run, Free Cloud, ç›´è¿ç­–ç•¥]}
  - proxy_groups_direct: &proxy_groups_direct {type: select, proxies: [ç›´è¿ç­–ç•¥, Moist_R, CMLiussss, Chicken Run, Free Cloud, åè®®äº’è”, Internet]}

proxy-groups: # ç­–ç•¥ç»„å¯ä»¥åŒ…å«å¤šä¸ªä»£ç†, æˆ–è€…å¤šä¸ªè¿œç¨‹ä»£ç†é›†; ä¸åŒ…å«ä»»ä½•ä»£ç†çš„ç­–ç•¥ç»„, ä¼šè¢«å½“ä½œä¸º DIRECT ç­–ç•¥å¤„ç†
  - {name: "Internet", type: select, proxies: [åè®®äº’è”, ç›´è¿ç­–ç•¥]}
  - {name: "åè®®äº’è”", type: select, proxies: [è‡ªåŠ¨åˆ‡æ¢, æ•…éšœæ’é™¤, è´Ÿè½½å“ˆå¸Œ, è´Ÿè½½è½®è¯¢, ç¾å›½å“ˆå¸Œ, ç¾å›½è½®è¯¢, æ—¥æœ¬å“ˆå¸Œ, æ—¥æœ¬è½®è¯¢, ç‹®åŸå“ˆå¸Œ, ç‹®åŸè½®è¯¢, é¦™æ¸¯å“ˆå¸Œ, é¦™æ¸¯è½®è¯¢, è®¢é˜…1, è®¢é˜…2, Chicken Run, Free Cloud]}
  - {name: "è‡ªåŠ¨åˆ‡æ¢", <<: *proxy_groups_health_check_proxy, type: url-test, tolerance: 5, include-all-providers: true, exclude-filter: "(?:CN|ä¸­å›½|å›½å†…)", hidden: true}
  - {name: "æ•…éšœæ’é™¤", <<: *proxy_groups_health_check_proxy, type: fallback, include-all-providers: true, hidden: true}
  - {name: "è´Ÿè½½å“ˆå¸Œ", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, include-all-providers: true, hidden: true}
  - {name: "è´Ÿè½½è½®è¯¢", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, include-all-providers: true, hidden: true}

  - {name: "ç›´è¿ç­–ç•¥", type: select, proxies: [è‡ªåŠ¨ç›´è¿, ä»¥å¤ªç½‘ + WLAN, wlan0 + wlan1, data0 + wlan0, data0 + wlan1, data1 + wlan0, data1 + wlan1, data2 + wlan0, data2 + wlan1, data3 + wlan0, data3 + wlan1, åè®®äº’è”]}
  - {name: "ä»¥å¤ªç½‘ + WLAN", <<: *proxy_groups_health_check_direct, type: load-balance, strategy: round-robin, proxies: [ä»¥å¤ªç½‘, WLAN], hidden: true}
  - {name: "wlan0 + wlan1", <<: *proxy_groups_health_check_direct, type: load-balance, strategy: round-robin, proxies: [wlan0, wlan1], hidden: true}
  - {name: "data0 + wlan0", <<: *proxy_groups_health_check_direct, type: load-balance, strategy: round-robin, proxies: [rmnet_data0, wlan0], hidden: true}
  - {name: "data0 + wlan1", <<: *proxy_groups_health_check_direct, type: load-balance, strategy: round-robin, proxies: [rmnet_data0, wlan1], hidden: true}
  - {name: "data1 + wlan0", <<: *proxy_groups_health_check_direct, type: load-balance, strategy: round-robin, proxies: [rmnet_data1, wlan0], hidden: true}
  - {name: "data1 + wlan1", <<: *proxy_groups_health_check_direct, type: load-balance, strategy: round-robin, proxies: [rmnet_data1, wlan1], hidden: true}
  - {name: "data2 + wlan0", <<: *proxy_groups_health_check_direct, type: load-balance, strategy: round-robin, proxies: [rmnet_data2, wlan0], hidden: true}
  - {name: "data2 + wlan1", <<: *proxy_groups_health_check_direct, type: load-balance, strategy: round-robin, proxies: [rmnet_data2, wlan1], hidden: true}
  - {name: "data3 + wlan0", <<: *proxy_groups_health_check_direct, type: load-balance, strategy: round-robin, proxies: [rmnet_data3, wlan0], hidden: true}
  - {name: "data3 + wlan1", <<: *proxy_groups_health_check_direct, type: load-balance, strategy: round-robin, proxies: [rmnet_data3, wlan1], hidden: true}

  - {name: "æ¸¸æˆå¨±ä¹", <<: *proxy_groups_direct}
  - {name: "å¥ˆé£å½±è§†", <<: *proxy_groups_proxy}
  - {name: "ç§å­ä¼ è¾“", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, include-all-providers: true, filter: "(?i)(?:BT|PT|å¢æ£®å ¡)"}
  - {name: "è°·æ­Œæ¨é€", type: select, proxies: [ç›´è¿ç­–ç•¥, æ•…éšœæ’é™¤]}
  - {name: "éšç§æ³„éœ²", type: select, proxies: [REJECT-DROP, Internet, PASS, ç›´è¿ç­–ç•¥]}
  - {name: "ğŸ…€ğŸ…„ğŸ„¸ğŸ„²", type: select, proxies: [PASS, REJECT-DROP]}

  - {name: "ç¾å›½å“ˆå¸Œ", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, include-all-providers: true, filter: "(?i)(?:ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America)", hidden: true}
  - {name: "ç¾å›½è½®è¯¢", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, include-all-providers: true, filter: "(?i)(?:ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America)", hidden: true}
  - {name: "æ—¥æœ¬å“ˆå¸Œ", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, include-all-providers: true, filter: "(?i)(?:ğŸ‡¯ğŸ‡µ|æ—¥|ä¸œäº¬|Japan|Nippon|Nihon)", hidden: true}
  - {name: "æ—¥æœ¬è½®è¯¢", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, include-all-providers: true, filter: "(?i)(?:ğŸ‡¯ğŸ‡µ|æ—¥|ä¸œäº¬|Japan|Nippon|Nihon)", hidden: true}
  - {name: "ç‹®åŸå“ˆå¸Œ", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, include-all-providers: true, filter: "(?i)(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|Singapore|Singapura)", hidden: true}
  - {name: "ç‹®åŸè½®è¯¢", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, include-all-providers: true, filter: "(?i)(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|Singapore|Singapura)", hidden: true}
  - {name: "é¦™æ¸¯å“ˆå¸Œ", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, include-all-providers: true, filter: "(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|HongKong)", hidden: true}
  - {name: "é¦™æ¸¯è½®è¯¢", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, include-all-providers: true, filter: "(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|HongKong)", hidden: true}

  - {name: "è®¢é˜…1", type: select, proxies: [è‡ªåŠ¨åˆ‡æ¢Â¹, æ•…éšœæ’é™¤Â¹, ç¾å›½å“ˆå¸ŒÂ¹, ç¾å›½è½®è¯¢Â¹, æ—¥æœ¬å“ˆå¸ŒÂ¹, æ—¥æœ¬è½®è¯¢Â¹, ç‹®åŸå“ˆå¸ŒÂ¹, ç‹®åŸè½®è¯¢Â¹, é¦™æ¸¯å“ˆå¸ŒÂ¹, é¦™æ¸¯è½®è¯¢Â¹]}
  - {name: "è‡ªåŠ¨åˆ‡æ¢Â¹", <<: *proxy_groups_health_check_proxy, type: url-test, tolerance: 5, use: [Subscription_1], exclude-filter: "(?i)(?:CN|ä¸­å›½|å›½å†…)", hidden: true}
  - {name: "æ•…éšœæ’é™¤Â¹", <<: *proxy_groups_health_check_proxy, type: fallback, use: [Subscription_1], hidden: true}
  - {name: "ç¾å›½å“ˆå¸ŒÂ¹", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_1], filter: "(?i)(?:ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America)", hidden: true}
  - {name: "ç¾å›½è½®è¯¢Â¹", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_1], filter: "(?i)(?:ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America)", hidden: true}
  - {name: "æ—¥æœ¬å“ˆå¸ŒÂ¹", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_1], filter: "(?i)(?:ğŸ‡¯ğŸ‡µ|æ—¥|ä¸œäº¬|Japan|Nippon|Nihon)", hidden: true}
  - {name: "æ—¥æœ¬è½®è¯¢Â¹", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_1], filter: "(?i)(?:ğŸ‡¯ğŸ‡µ|æ—¥|ä¸œäº¬|Japan|Nippon|Nihon)", hidden: true}
  - {name: "ç‹®åŸå“ˆå¸ŒÂ¹", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_1], filter: "(?i)(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|Singapore|Singapura)", hidden: true}
  - {name: "ç‹®åŸè½®è¯¢Â¹", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_1], filter: "(?i)(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|Singapore|Singapura)", hidden: true}
  - {name: "é¦™æ¸¯å“ˆå¸ŒÂ¹", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_1], filter: "(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|HongKong)", hidden: true}
  - {name: "é¦™æ¸¯è½®è¯¢Â¹", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_1], filter: "(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|HongKong)", hidden: true}

  - {name: "è®¢é˜…2", type: select, proxies: [è‡ªåŠ¨åˆ‡æ¢Â², æ•…éšœæ’é™¤Â², ç¾å›½å“ˆå¸ŒÂ², ç¾å›½è½®è¯¢Â², æ—¥æœ¬å“ˆå¸ŒÂ², æ—¥æœ¬è½®è¯¢Â², ç‹®åŸå“ˆå¸ŒÂ², ç‹®åŸè½®è¯¢Â², é¦™æ¸¯å“ˆå¸ŒÂ², é¦™æ¸¯è½®è¯¢Â²]}
  - {name: "è‡ªåŠ¨åˆ‡æ¢Â²", <<: *proxy_groups_health_check_proxy, type: url-test, tolerance: 5, use: [Subscription_2], exclude-filter: "(?i)(?:CN|ä¸­å›½|å›½å†…)", hidden: true}
  - {name: "æ•…éšœæ’é™¤Â²", <<: *proxy_groups_health_check_proxy, type: fallback, use: [Subscription_2], hidden: true}
  - {name: "ç¾å›½å“ˆå¸ŒÂ²", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_2], filter: "(?i)(?:ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America)", hidden: true}
  - {name: "ç¾å›½è½®è¯¢Â²", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_2], filter: "(?i)(?:ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America)", hidden: true}
  - {name: "æ—¥æœ¬å“ˆå¸ŒÂ²", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_2], filter: "(?i)(?:ğŸ‡¯ğŸ‡µ|æ—¥|ä¸œäº¬|Japan|Nippon|Nihon)", hidden: true}
  - {name: "æ—¥æœ¬è½®è¯¢Â²", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_2], filter: "(?i)(?:ğŸ‡¯ğŸ‡µ|æ—¥|ä¸œäº¬|Japan|Nippon|Nihon)", hidden: true}
  - {name: "ç‹®åŸå“ˆå¸ŒÂ²", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_2], filter: "(?i)(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|Singapore|Singapura)", hidden: true}
  - {name: "ç‹®åŸè½®è¯¢Â²", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_2], filter: "(?i)(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|Singapore|Singapura)", hidden: true}
  - {name: "é¦™æ¸¯å“ˆå¸ŒÂ²", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_2], filter: "(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|HongKong)", hidden: true}
  - {name: "é¦™æ¸¯è½®è¯¢Â²", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_2], filter: "(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|HongKong)", hidden: true}

  - {name: "Chicken Run", type: select, proxies: [è‡ªåŠ¨åˆ‡æ¢Â³, æ•…éšœæ’é™¤Â³, ç¾å›½å“ˆå¸ŒÂ³, ç¾å›½è½®è¯¢Â³, æ—¥æœ¬å“ˆå¸ŒÂ³, æ—¥æœ¬è½®è¯¢Â³, ç‹®åŸå“ˆå¸ŒÂ³, ç‹®åŸè½®è¯¢Â³, é¦™æ¸¯å“ˆå¸ŒÂ³, é¦™æ¸¯è½®è¯¢Â³]}
  - {name: "è‡ªåŠ¨åˆ‡æ¢Â³", <<: *proxy_groups_health_check_proxy, type: url-test, tolerance: 5, use: [Subscription_3], exclude-filter: "(?i)(?:CN|ä¸­å›½|å›½å†…)", hidden: true}
  - {name: "æ•…éšœæ’é™¤Â³", <<: *proxy_groups_health_check_proxy, type: fallback, use: [Subscription_3], hidden: true}
  - {name: "ç¾å›½å“ˆå¸ŒÂ³", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_3], filter: "(?i)(?:ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America)", hidden: true}
  - {name: "ç¾å›½è½®è¯¢Â³", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_3], filter: "(?i)(?:ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America)", hidden: true}
  - {name: "æ—¥æœ¬å“ˆå¸ŒÂ³", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_3], filter: "(?i)(?:ğŸ‡¯ğŸ‡µ|æ—¥|ä¸œäº¬|Japan|Nippon|Nihon)", hidden: true}
  - {name: "æ—¥æœ¬è½®è¯¢Â³", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_3], filter: "(?i)(?:ğŸ‡¯ğŸ‡µ|æ—¥|ä¸œäº¬|Japan|Nippon|Nihon)", hidden: true}
  - {name: "ç‹®åŸå“ˆå¸ŒÂ³", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_3], filter: "(?i)(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|Singapore|Singapura)", hidden: true}
  - {name: "ç‹®åŸè½®è¯¢Â³", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_3], filter: "(?i)(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|Singapore|Singapura)", hidden: true}
  - {name: "é¦™æ¸¯å“ˆå¸ŒÂ³", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_3], filter: "(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|HongKong)", hidden: true}
  - {name: "é¦™æ¸¯è½®è¯¢Â³", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_3], filter: "(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|HongKong)", hidden: true}

  - {name: "Free Cloud", type: select, proxies: [è‡ªåŠ¨åˆ‡æ¢â´, æ•…éšœæ’é™¤â´, ç¾å›½å“ˆå¸Œâ´, ç¾å›½è½®è¯¢â´, æ—¥æœ¬å“ˆå¸Œâ´, æ—¥æœ¬è½®è¯¢â´, ç‹®åŸå“ˆå¸Œâ´, ç‹®åŸè½®è¯¢â´, é¦™æ¸¯å“ˆå¸Œâ´, é¦™æ¸¯è½®è¯¢â´]}
  - {name: "è‡ªåŠ¨åˆ‡æ¢â´", <<: *proxy_groups_health_check_proxy, type: url-test, tolerance: 5, use: [Subscription_4], exclude-filter: "(?i)(?:CN|ä¸­å›½|å›½å†…)", hidden: true}
  - {name: "æ•…éšœæ’é™¤â´", <<: *proxy_groups_health_check_proxy, type: fallback, use: [Subscription_4], hidden: true}
  - {name: "ç¾å›½å“ˆå¸Œâ´", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_4], filter: "(?i)(?:ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America)", hidden: true}
  - {name: "ç¾å›½è½®è¯¢â´", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_4], filter: "(?i)(?:ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America)", hidden: true}
  - {name: "æ—¥æœ¬å“ˆå¸Œâ´", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_4], filter: "(?i)(?:ğŸ‡¯ğŸ‡µ|æ—¥|ä¸œäº¬|Japan|Nippon|Nihon)", hidden: true}
  - {name: "æ—¥æœ¬è½®è¯¢â´", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_4], filter: "(?i)(?:ğŸ‡¯ğŸ‡µ|æ—¥|ä¸œäº¬|Japan|Nippon|Nihon)", hidden: true}
  - {name: "ç‹®åŸå“ˆå¸Œâ´", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_4], filter: "(?i)(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|Singapore|Singapura)", hidden: true}
  - {name: "ç‹®åŸè½®è¯¢â´", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_4], filter: "(?i)(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|Singapore|Singapura)", hidden: true}
  - {name: "é¦™æ¸¯å“ˆå¸Œâ´", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: consistent-hashing, use: [Subscription_4], filter: "(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|HongKong)", hidden: true}
  - {name: "é¦™æ¸¯è½®è¯¢â´", <<: *proxy_groups_health_check_proxy, type: load-balance, strategy: round-robin, use: [Subscription_4], filter: "(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|HongKong)", hidden: true}


rule-providers-anchor: # é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹, åˆ™ä¸ä¼šå»åˆå¹¶
  rule_domain: &rule_domain {type: http, behavior: domain, format: mrs}
  rule_ipcidr: &rule_ipcidr {type: http, behavior: ipcidr, format: mrs}
  rule_classical: &rule_classical {type: http, behavior: classical, format: yaml}

rule-providers: # åˆ©ç”¨è§„åˆ™é›†åˆ, å¯ä»¥åœ¨è¾ƒä½èµ„æºå ç”¨æƒ…å†µä¸‹å¼•ç”¨å¤§é‡è§„åˆ™; ä½¿ç”¨ domain/ipcidr ç±»è§„åˆ™é›†, ä½¿åŒ¹é…æ›´é«˜æ•ˆ classical æ€§èƒ½ç•¥å·®
  AdGuard_DNS_filter:
    <<: *rule_classical
    path: "./rule_providers/classical/AdGuard_DNS_filter"
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/AdGuardSDNSFilter/AdGuardSDNSFilter_Classical.yaml"
  site_category-httpdns:
    <<: *rule_domain
    path: "./rule_providers/domain/category-httpdns"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-httpdns.mrs"
  site_private:
    <<: *rule_domain
    path: "./rule_providers/domain/private"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/private.mrs"
  site_googlefcm:
    <<: *rule_domain
    path: "./rule_providers/domain/googlefcm"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/googlefcm.mrs"
  site_category-public-tracker:
    <<: *rule_domain
    path: "./rule_providers/domain/category-public-tracker"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-public-tracker.mrs"
  site_category-pt:
    <<: *rule_domain
    path: "./rule_providers/domain/category-pt"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-pt.mrs"
  site_category-games@cn:
    <<: *rule_domain
    path: "./rule_providers/domain/category-games@cn"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-games@cn.mrs"
  site_netflix:
    <<: *rule_domain
    path: "./rule_providers/domain/netflix"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/netflix.mrs"
  site_cloudflare:
    <<: *rule_domain
    path: "./rule_providers/domain/cloudflare"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/cloudflare.mrs"
  site_google:
    <<: *rule_domain
    path: "./rule_providers/domain/google"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/google.mrs"
  site_alibaba:
    <<: *rule_domain
    path: "./rule_providers/domain/alibaba"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/alibaba.mrs"
  site_tencent:
    <<: *rule_domain
    path: "./rule_providers/domain/tencent"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/tencent.mrs"
  site_cn:
    <<: *rule_domain
    path: "./rule_providers/domain/cn"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/cn.mrs"
  ip_private:
    <<: *rule_ipcidr
    path: "./rule_providers/ipcidr/private"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/private.mrs"
  ip_netflix:
    <<: *rule_ipcidr
    path: "./rule_providers/ipcidr/netflix"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/netflix.mrs"
  ip_cloudflare:
    <<: *rule_ipcidr
    path: "./rule_providers/ipcidr/cloudflare"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/cloudflare.mrs"
  ip_google:
    <<: *rule_ipcidr
    path: "./rule_providers/ipcidr/google"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/google.mrs"
  ip_cn:
    <<: *rule_ipcidr
    path: "./rule_providers/ipcidr/cn"
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/cn.mrs"

sub-rules: # å­è§„åˆ™

rules: # åˆ†æµè§„åˆ™å¯ä»¥ç›´æ¥å¼•ç”¨ä»£ç†æˆ–ç­–ç•¥ç»„, ä½†ä¸èƒ½å¼•ç”¨è¿œç¨‹ä»£ç†é›†; å¯¹äºæ¯ä¸€æ¡è¿æ¥, æ€»æ˜¯ä»ä¸Šåˆ°ä¸‹åŒ¹é…è§„åˆ™
  - "DST-PORT,53,DNS åŠ«æŒ" # åŠ«æŒ DNS åˆ° Clash å†…éƒ¨ DNS æ¨¡å—
  - "RULE-SET,AdGuard_DNS_filter,REJECT-DROP" # éœ€è¦æ‹¦æˆªçš„å¹¿å‘Š å¤§éƒ¨åˆ†æƒ…å†µå¯èƒ½å‡ºç°è¯¯æ€
  - "AND,((NETWORK,udp),(DST-PORT,443),(OR,(NOT,((RULE-SET,site_cn))),(NOT,((RULE-SET,ip_cn))))),ğŸ…€ğŸ…„ğŸ„¸ğŸ„²" # å›½å†…ä»¥å¤–çš„ QUIC
  - "OR,((DOMAIN-KEYWORD,stun),(DOMAIN-KEYWORD,turn)),éšç§æ³„éœ²" # STUN/TURN æœåŠ¡
  - "OR,((RULE-SET,site_category-httpdns),(DOMAIN-KEYWORD,httpdns)),REJECT-DROP" # æ‹¦æˆª httpdns æœåŠ¡, ä»¥ç¡®ä¿è¿™äº›è¯·æ±‚èƒ½å¤Ÿåœ¨ Clash çš„ DNS æ¡†æ¶ä¸‹å·¥ä½œ
  - "OR,((RULE-SET,site_private),(RULE-SET,ip_private)),ç›´è¿ç­–ç•¥" # å±€åŸŸç½‘..
  - "OR,((RULE-SET,site_googlefcm),(DST-PORT,5228-5230)),è°·æ­Œæ¨é€" # è°·æ­Œæ¨é€ ç›´è¿ç¡®ä¿ DNS æ— æ±¡æŸ“/åŠ«æŒ
  - "OR,((RULE-SET,site_category-public-tracker),(RULE-SET,site_category-pt)),ç§å­ä¼ è¾“"
  - "OR,((RULE-SET,site_category-games@cn),(RULE-SET,site_category-games@cn)),æ¸¸æˆå¨±ä¹" # éƒ¨åˆ† cn åŸŸå
  - "OR,((RULE-SET,site_netflix),(RULE-SET,ip_netflix)),å¥ˆé£å½±è§†"
  - "OR,((RULE-SET,site_cloudflare),(RULE-SET,ip_cloudflare)),Internet"
  - "OR,((RULE-SET,site_google),(RULE-SET,ip_google)),Internet"
  - "OR,((RULE-SET,site_alibaba),(IP-ASN,59054),(IP-ASN,59054),(IP-ASN,59053),(IP-ASN,59052),(IP-ASN,59051),(IP-ASN,59028),(IP-ASN,45104),(IP-ASN,45103),(IP-ASN,37963)),ç›´è¿ç­–ç•¥"
  - "OR,((RULE-SET,site_tencent),(IP-ASN,45090),(IP-ASN,133478),(IP-ASN,132203)),ç›´è¿ç­–ç•¥"
  - "OR,((RULE-SET,site_cn),(RULE-SET,ip_cn)),ç›´è¿ç­–ç•¥" # éƒ¨åˆ† cn åŸŸå/ip
  - "MATCH,Internet" # åŒ¹é…æ‰€æœ‰è¯·æ±‚, æ— éœ€æ¡ä»¶

#################### END ####################
